"use strict";var themeBtn=document.querySelector("#theme-btn");themeBtn.addEventListener("click",(function(){var e=document.body.getAttribute("class").includes("dark-theme")?setLightMode():setDarkMode();window.localStorage.setItem("todoAppTheme",e)}));var loadUserPreference=function(){return!!window.localStorage.getItem("todoAppTheme")&&("dark-theme"==window.localStorage.getItem("todoAppTheme")?setDarkMode():setLightMode(),!0)},loadPrefersColorScheme=function(){!window.matchMedia("(prefers-color-scheme: dark)").matches||setDarkMode(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){loadUserPreference()||!e.matches||setDarkMode()}))},loadThemePreferences=function(){return loadUserPreference()||loadPrefersColorScheme()};function setLightMode(){return document.body.classList="light-theme",themeBtn.classList.remove("night"),"light-theme"}function setDarkMode(){return document.body.classList="dark-theme",document.body.classList.add("dark-bg"),themeBtn.classList="night","dark-theme"}loadThemePreferences();var inputForm=document.querySelector("#input-form"),inputCheckbox=document.querySelector("#input-checkbox"),inputTextfield=document.querySelector("#input-textfield");function checkInputText(){return!!inputTextfield&&todoComponent.addTodoData(inputTextfield.value)}inputForm.addEventListener("submit",(function(e){e.preventDefault()})),inputCheckbox.addEventListener("click",(function(){checkInputText()})),inputTextfield.addEventListener("keypress",(function(e){"Enter"===e.key&&checkInputText()}));var todoFunctions={createListComponents:function(e,t){var o=this,n=document.querySelector("#todo-ul"),c=document.createElement("li"),d=document.createElement("form"),a=document.createElement("label"),i=document.createElement("input"),r=document.createElement("span"),l=document.createElement("div"),s=document.createElement("button");i.type="checkbox",a.append(i,r),d.appendChild(a),l.innerText=e,c.classList.add(t),c.append(d,l,s),n.appendChild(c),[i,l,s].forEach((function(e){e.addEventListener("click",(function(){"input"===e.localName?o.completeItem(t):"div"===e.localName?o.editItem(t):"button"===e.localName&&o.removeItem(t)}))}))},markLiComplete:function(e){this.todoData.forEach((function(t){t.todoId==e&&(t.isCompleted=1!=t.isCompleted,document.querySelectorAll("#todo-ul li").forEach((function(t){t.getAttribute("class",e).includes(e)&&(t.classList.toggle("li-completed"),document.querySelector("#todo-ul .".concat(e," div")).classList.toggle("disable-edit"))})))}))},removeLi:function(e){var t=this;document.querySelectorAll("#todo-ul li").forEach((function(o){o.getAttribute("class",e).includes(e)&&(o.remove(),t.todoData.forEach((function(o,n){e==o.todoId&&t.todoData.splice(n,1)})))}))},updateLi:function(e){var t=this,o=document.querySelector("#success-message"),n=document.querySelector(".modal"),c=document.querySelector(".modal-overlay");o.classList.remove("changes-saved"),n.classList.toggle("modal__show"),c.classList.toggle("modal-overlay__show"),document.querySelectorAll(".modal-close").forEach((function(e){e.addEventListener("click",(function(){n.classList="modal",c.classList="modal-overlay"}))})),document.querySelector("#modal-form").addEventListener("submit",(function(e){e.preventDefault()}));var d=document.querySelector("#text-area");this.todoData.forEach((function(o){o.todoId===e&&(d.innerText=o.todoText,t.openModal=e)})),document.querySelector(".modal-save").addEventListener("click",(function(o){document.querySelector("#text-area").value;console.log(e),t.todoData.forEach((function(e){e.todoId===t.openModal&&console.log(t.openModal)}))}))}},todoComponent={todoId:1,todoData:[],todoFunctions:todoFunctions,addTodoData:function(e){var t=this.todoId,o=this.todoData,n="list-item-"+t;this.todoFunctions.createListComponents.call(this,e,n),o.push({todoId:n,todoText:e,isCompleted:!1}),this.todoId+=1},completeItem:function(e){this.todoFunctions.markLiComplete.bind(this,e)()},editItem:function(e){this.todoFunctions.updateLi.call(this,e)},removeItem:function(e){this.todoFunctions.removeLi.call(this,e)}};
//# sourceMappingURL=script.js.map